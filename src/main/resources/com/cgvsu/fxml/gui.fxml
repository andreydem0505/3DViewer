<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.input.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.paint.*?>

<AnchorPane fx:id="anchorPane" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cgvsu.GuiController">
    <MenuBar prefHeight="25.0" prefWidth="300.0">
        <Menu mnemonicParsing="false" text="File">
            <MenuItem mnemonicParsing="false" onAction="#addModelToTheScene" text="Load Model">
            <accelerator>
                <KeyCodeCombination alt="UP" code="F" control="DOWN" meta="UP" shift="UP" shortcut="UP" />
            </accelerator>
            </MenuItem>
         <MenuItem mnemonicParsing="false" text="Save Model" />
        </Menu>
        <Menu mnemonicParsing="false" text="Switch theme">
         <items>
          <MenuItem mnemonicParsing="false" text="Action 1" />
         </items>
        </Menu>
      <Menu mnemonicParsing="false" text="Controls">
        <items>
               <MenuItem mnemonicParsing="false" onAction="#handleCameraForward" text="Forward">
                   <accelerator>
                       <KeyCodeCombination alt="UP" code="W" control="UP" meta="UP" shift="UP" shortcut="UP" />
                   </accelerator>
               </MenuItem>
               <MenuItem mnemonicParsing="false" onAction="#handleCameraBackward" text="Backward">
                   <accelerator>
                       <KeyCodeCombination alt="UP" code="S" control="UP" meta="UP" shift="UP" shortcut="UP" />
                   </accelerator>
               </MenuItem>
               <MenuItem mnemonicParsing="false" onAction="#handleCameraLeft" text="Left">
                   <accelerator>
                       <KeyCodeCombination alt="UP" code="A" control="UP" meta="UP" shift="UP" shortcut="UP" />
                   </accelerator>
               </MenuItem>
               <MenuItem mnemonicParsing="false" onAction="#handleCameraRight" text="Right">
                   <accelerator>
                       <KeyCodeCombination alt="UP" code="D" control="UP" meta="UP" shift="UP" shortcut="UP" />
                   </accelerator>
               </MenuItem>
               <MenuItem mnemonicParsing="false" onAction="#handleCameraUp" text="Up">
                   <accelerator>
                       <KeyCodeCombination alt="UP" code="E" control="UP" meta="UP" shift="UP" shortcut="UP" />
                   </accelerator>
               </MenuItem>
               <MenuItem mnemonicParsing="false" onAction="#handleCameraDown" text="Down">
                   <accelerator>
                       <KeyCodeCombination alt="UP" code="Q" control="UP" meta="UP" shift="UP" shortcut="UP" />
                   </accelerator>
               </MenuItem>
        </items>
      </Menu>
      <Menu mnemonicParsing="false" text="CalcNormals">
        <items>
          <MenuItem mnemonicParsing="false" text="Action 1" />
        </items>
      </Menu>
    </MenuBar>

    <ImageView fx:id="imageView" fitHeight="870" fitWidth="1600" AnchorPane.topAnchor="30.0" />
    <ScrollPane focusTraversable="false" hbarPolicy="NEVER" layoutY="25.0" prefHeight="870.0" prefWidth="300.0">
        <VBox prefWidth="300.0">
            <!-- Меню объектов -->
            <TitledPane focusTraversable="false" text="Objects">
                <VBox spacing="5">
                    <HBox spacing="5">
                        <Button onAction="#addModelToTheScene" text="+" />
                        <Button onAction="#removeModel" text="-" />
                        <Button onAction="#loadTextureForModel" text="Load Texture" />
                    </HBox>
                    <TreeView fx:id="objectsTree" focusTraversable="false" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleModelSelection" prefHeight="100.0" prefWidth="280.0" />
               <HBox maxHeight="25.0" prefHeight="25.0" prefWidth="200.0">
                  <children>
                     <ChoiceBox fx:id="choiceBoxRenderMode" onAction="#handleRenderChoiceBoxChoice" prefWidth="150.0" />
                     <ColorPicker fx:id="colorPicker" onAction="#handleColorChoiceBox">
                        <value>
                           <Color />
                        </value></ColorPicker>
                  </children>
               </HBox>
                </VBox>
            </TitledPane>

            <!-- Меню камер -->
            <TitledPane expanded="false" focusTraversable="false" text="Cameras">
                <VBox spacing="5">
                    <HBox spacing="5">
                        <Button onAction="#addCamera" text="+" />
                        <Button onAction="#removeCamera" text="-" />
                    </HBox>
                    <TreeView fx:id="camerasTree" focusTraversable="false" minHeight="-Infinity" minWidth="-Infinity" onMouseClicked="#handleCameraSelection" prefHeight="100.0" prefWidth="280.0">
                        <VBox.margin>
                            <Insets />
                        </VBox.margin>
                    </TreeView>
                    <VBox spacing="5">
                         <Label text="Distance:" />
                         <TextField fx:id="distance" maxWidth="170.0" prefWidth="100.0" />
                        <Label text="Active Camera Rotation:" />
                        <GridPane hgap="10" vgap="5">
                            <Label text="X:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                            <TextField fx:id="cameraX" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                            <Label text="Y:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                            <TextField fx:id="cameraY" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                            <columnConstraints>
                                <ColumnConstraints />
                                <ColumnConstraints />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints />
                                <RowConstraints />
                                <RowConstraints />
                            </rowConstraints>
                        </GridPane>
                        <Label text="Target coordinates:" />
                        <GridPane hgap="10" vgap="5">
                            <Label text="X:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                            <TextField fx:id="directionX" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                            <Label text="Y:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                            <TextField fx:id="directionY" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                            <Label text="Z:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                            <TextField fx:id="directionZ" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                            <columnConstraints>
                                <ColumnConstraints />
                                <ColumnConstraints />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints />
                                <RowConstraints />
                                <RowConstraints />
                            </rowConstraints>
                        </GridPane>
                    </VBox>
                    <Button mnemonicParsing="false" onAction="#updateCameraDirectionAndPosition" text="Set" textAlignment="CENTER" />
                </VBox>
            </TitledPane>

            <!-- Меню освещения -->
            <TitledPane expanded="false" focusTraversable="false" text="Lighting">
                <VBox spacing="5">
                    <HBox spacing="5">
                        <Button onAction="#handleCameraBackward" text="+" />
                        <Button onAction="#handleCameraBackward" text="-" />
                    </HBox>
                    <TreeView fx:id="lightingTree" focusTraversable="false" minHeight="-Infinity" minWidth="-Infinity" prefHeight="100.0" prefWidth="280.0" />
                    <VBox spacing="5">
                        <Label text="Active Lighting Direction:" />
                        <GridPane hgap="10" vgap="5">
                            <Label text="X:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                            <TextField fx:id="lightingX" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                            <Label text="Y:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                            <TextField fx:id="lightingY" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                            <Label text="Z:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                            <TextField fx:id="lightingZ" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                            <columnConstraints>
                                <ColumnConstraints />
                                <ColumnConstraints />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints />
                                <RowConstraints />
                                <RowConstraints />
                            </rowConstraints>
                        </GridPane>
                    </VBox>
                    <Button mnemonicParsing="false" text="Set" />
                </VBox>
            </TitledPane>

            <!-- Меню редактирования модели -->
            <TitledPane expanded="false" focusTraversable="false" text="Model Transformation">
                <VBox spacing="5">
                    <Label text="Scale:" />
                    <GridPane hgap="10" vgap="5">
                        <Label text="X:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <TextField fx:id="scaleX" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        <Label text="Y:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <TextField fx:id="scaleY" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        <Label text="Z:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <TextField fx:id="scaleZ" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                        <columnConstraints>
                            <ColumnConstraints />
                            <ColumnConstraints />
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints />
                            <RowConstraints />
                            <RowConstraints />
                        </rowConstraints>
                    </GridPane>
                    <Label text="Rotation:" />
                    <GridPane hgap="10" vgap="5">
                        <Label text="X:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <TextField fx:id="rotationX" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        <Label text="Y:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <TextField fx:id="rotationY" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        <Label text="Z:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <TextField fx:id="rotationZ" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                        <columnConstraints>
                            <ColumnConstraints />
                            <ColumnConstraints />
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints />
                            <RowConstraints />
                            <RowConstraints />
                        </rowConstraints>
                    </GridPane>
                    <Label text="Position:" />
                    <GridPane hgap="10" vgap="5">
                        <Label text="X:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <TextField fx:id="positionX" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        <Label text="Y:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <TextField fx:id="positionY" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        <Label text="Z:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <TextField fx:id="positionZ" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                        <columnConstraints>
                            <ColumnConstraints />
                            <ColumnConstraints />
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints />
                            <RowConstraints />
                            <RowConstraints />
                        </rowConstraints>
                    </GridPane>
                    <Button mnemonicParsing="false" text="Confirm" />
                </VBox>
            </TitledPane>
        </VBox>
    </ScrollPane>

</AnchorPane>
